<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="css/html5reset-1.6.1.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/dialog.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com"> 
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap" rel="stylesheet">

  <title>ミュウロボ エディタ - 広沢小学校</title>

<!--
                          .::.            ::::                              
                      :-+*####+.        :*#####+=:.                         
                   :=**########*.      :*#########*+-.                      
                .:+####**#######..-++=::+#######*####*+:.                   
               :+####*-.-*#####= -####*::*####*-.-*#####*:                  
             :+####*-.   .:---.  -####+: .:--:.   .-*#####+:                
           .-*####=:-==-.         .-=-.        .=*#**#######=               
          .+#####**#####*:         ..         :*#############*:             
         .+##############=.      :+***-.      -###############*:            
        .+#######**######-.      =####*:      .+#####*==*######*:           
       .=#######=.:+###*=.      .=####*:       .-+++-.  :*######*:          
       -#######-    ...  :=++****#######*##*##*-          +######+.         
      :*######:          +#####################*           *######+.        
      -######-           :+#####++++++========-.       ... .*#####*:        
     .+#####+..-==:.      -*###+.   .:::             -+****+*######-        
     .*#####==*####*:    .+####.   :*##*+.          -*#############=        
     :##############*.   =####=   .*#####+.        .=##############+.       
     .##############+   :*###*.  .=#######+.        :+#############+.       
     .*#######**##*=    =####-   :###+=*###+         .-+++=+#######*:       
     .*#######:....    :*###+.  .*##*- -*###=              =#######*:       
     .=#######:       .=####:   =###+:::+####-             =#######+:       
      :#######=.      .+###=.  .##############.            *#######=.       
      .+#######:  .---:.--:    -##############.   .=+*+=: :#######*-        
       :*######*.+#####+.       :-----------:.   :*######=+#######=         
        -###############=                        -###############=.         
        .=##############=                 ..     .=#############+.          
         .=###########*=.   .-+*+=:    .=****=.    -*##########+:           
          .=*#########=.   .+#####*-  .=######+:  .=*#########+.            
            :*#########*+:.=#######*. :+#######-.=*##########+.             
             .=####################+.  -###################*:               
               :=##################=====*################*-.                
                 .=*###################################*-.                  
                   .-+*#############################*=:.                    
                      :-+*######################*+=:.                       
                         .:-=+**###########*+=-:.                           
                                 ....::...                                  
-->


</head>
<body>
         
  <div id="menuArea">
    <h1>ミュウロボ エディタ<span class="subtitle">for the <a href="https://github.com/shogenji/myu-robo-editor-hirosawa">H</a>irosawa Elementary School</span></h1>
    <p class="version">
      <span id="version">ver. 20210903</span><br>
      <span id="deviceStatus">ミュウロボが接続されていません。</span>
    </p>
  </div>



  <div id="mainArea">

    <div id="editArea">
      <div id="editAreaTitle">プログラム：</div>
      <div id="editAreaProgramName"><input type="text" id="inputProgramName" name="programName" required size="20" value="program.txt"></div>
      <textarea id="programTextArea" rows="4" cols="40">前進, 5&NewLine;右回り, 10&NewLine;後退, 5&NewLine;左回り, 10</textarea>
    </div>


    <div id="commandArea">
      <div id="commandAreaTitle">命令の言葉</div>
      <div id="commandList">
        <select id="selectCommand" name="selectCommand" size="100">
        </select>
      </div>
      <div id="commandDescription">命令の説明が表示されます。</div>
    </div>


    <div id="controllerArea">
      <div id="controllerAreaTitle"></div>

      <div id="controller">
        <button id="btnConnect">接続</button>
        <button id="btnUpload">転送</button>
        <button id="btnSaveProgram">保存</button>
        <!-- <div class="loadProgram"> -->
          <input type="file" name="loadProgram" accept=".txt" id="btnLoadProgram">
          <label for="btnLoadProgram" id="lblLoadProgram">読込</label>
        <!-- </div> -->
      </div>

      <div id="remote-controller">
        <button id="btnTurnLeft">左回り</button>
        <button id="btnForward">前進</button>
        <button id="btnTurnRight">右回り</button>
        <button id="btnBackward">後退</button>
      </div>

    </div>
  </div>



  <dialog id="dialogArg">
    <div class="dialog-content">
      <div id="arg1">
        <span id="arg1Name" class="argName">1つ目の引数</span>
        <input type="number" id="inputArg1" class="argInput" name="arg1" min="0" max="255" value="0" required><br>
        <span id="arg1Description" class="argDescription">引数の説明：説明説明説明説明説明説明</span>
      </div>
      <div id="arg2">
        <span id="arg2Name" class="argName">2つ目の引数</span>
        <input type="number" id="inputArg2" class="argInput" name="arg2" min="0" max="255" value="0" required><br>
        <span id="arg2Description" class="argDescription">引数の説明：説明説明説明説明説明説明</span>
      </div>
      <button id="btnArgCancel">やめる</button>
      <button id="btnArgOK">入力する</button>
    </div>
  </dialog>

  <dialog id="dialogAlert">
    <h2 id="alertTitle" style="display: none;">警告</h2>
    <div class="dialog-content">
      <p id="alertMessage">警告です！</p>
      <button id="btnCancel">キャンセル</button>
      <button id="btnOK">OK</button>
    </div>
  </dialog>

  <script src="./js/command.js"></script>
  <script src="./js/myu-robo-connection.js"></script>
  <script src="./js/myu-robo-editor.js"></script>
  <script src="./js/myu-robo-remote.js"></script>
  
  <script type="text/javascript" language="javascript">

    document.getElementById("version").addEventListener('dblclick', test, false);
    
    function test() {
      alertMode = "loadMusic";
      document.getElementById('alertTitle').innerText = "";
      document.getElementById('alertMessage').innerText = "音楽プログラムを読み込みますか？\n（現在のプログラムは消去されます）";
      document.getElementById('btnCancel').innerText = "やめる";
      document.getElementById('btnOK').innerText = "読み込む";
      objDialogAlert.showModal();
    }
    
    function loadMusic() {
      objProgramTA.value = "電子音, 3, 39\n電子音, 3, 41\n電子音, 10, 39\n電子音, 3, 39\n電子音, 3, 41\n電子音, 6, 39\n止まる, 2\n電子音, 2, 78\n電子音, 3, 39\n電子音, 3, 41\n電子音, 6, 46\n電子音, 2, 52\n電子音, 2, 59\n電子音, 8, 52\n止まる, 2\n電子音, 4, 62\n電子音, 2, 52\n電子音, 10, 46\n電子音, 4, 46\n電子音, 2, 39\n電子音, 10, 34\n電子音, 4, 39\n電子音, 2, 34\n電子音, 16, 31";
      document.getElementById('inputProgramName').value = "music.txt";
    }
    
  </script>
    
</body>
</html>
